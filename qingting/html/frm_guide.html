<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>蜻蜓FM</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <style type="text/css">
        html, body{height: 100%;}
        #page1, #page2, #page3{
            height: 100%; width: 100%; position: absolute; z-index: 3;
            background-color: #fff;
            -webkit-transform: translateX(0%);
            transform: translateX(0%);
            -webkit-transition: all .4s;
            transition: all .4s;
        }
        #page1.out, #page2.out, #page3.out{
            -webkit-transform: translateX(-100%);
            transform: translateX(-100%);
        }
        #page2{z-index: 2;}
        #page3{z-index: 1;}
        h1, h2, .gender, .job, .interest, .btn{
            position: absolute; text-align: center;
            margin: auto; left: 0; right: 0;
        }
        h1{
            font-size: 20px; color: #272930; top: 14%; 
        }
        h2{ 
            font-size: 14px; top: 20%; color: #787878;
        }
        .gender{
            top: 37.5%; width: 80%; overflow: hidden;
        }
        .gender p{
            float: left; width: 50%; padding: 20px; position: relative;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }
        .gender span{
            color: #272930; display: inline-block; margin-top: 16px;
            font-size: 14px;
        }
        .gender p img{
            width: 100%; border:1px solid #787878; border-radius: 100%;
        }
        .gender p i{
            display: none;
            position: absolute; top: 24px; left: 18%;
            width: 20px; height: 20px;
            background:url(../image/ug_check_small.png) no-repeat;
            -webkit-background-size: contain;
            background-size: contain;
        }
        .gender p.selected img{
            border-color: #e13430;
        }
        .gender p.selected i{
            display: inline-block;
        }
        .btn{
            bottom: 15px; 
        }
        .btn .prev{
            position: absolute; left: 5%; font-size: 14px; color: #808080;
        }
        .btn label{color: #808080; font-size: 13px;}
        .btn button{
            outline: none;
            display: block; text-align: center; font-size: 15px;
            width: 90%; margin:10px auto 0; background-color: #e13430;
            border-radius: 6px; padding: 16px 0; color: #fff;
        }
        .btn button.disabled{
            background-color: #cfcfcf;
        }

        #page2 h1{
            font-size: 20px; color: #272930; top: 14%; 
        }
        #page2 h2{ 
            font-size: 14px; top: 20%; color: #787878;
        }
        .job{
            top: 24%; width: 80%; overflow: hidden;
        }
        .job p{
            float: left; width: 50%; padding: 20px 20px 0; position: relative;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }
        .job span{
            color: #272930; display: inline-block; margin-top: 16px;
            font-size: 14px;
        }
        .job p img{
            width: 100%; border:1px solid #787878; border-radius: 100%;
        }
        .job p i{
            display: none;
            position: absolute; top: 24px; left: 18%;
            width: 20px; height: 20px;
            background:url(../image/ug_check_small.png) no-repeat;
            -webkit-background-size: contain;
            background-size: contain;
        }
        .job p.selected img{
            border-color: #e13430;
        }
        .job p.selected i{
            display: inline-block;
        }

        #page3 h1{
            font-size: 20px; color: #272930; top: 14%; 
        }
        .interest{
            top: 22%; overflow: visible;
        }
        .interest li{
            float: left; width: 25%; padding: 0 6px 10px; font-size: 12px;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }
        .interest li div{
            border: 1px solid #ebebeb; border-radius: 16px; padding: 8px;
            position: relative;
        }
        .interest li .sel{
            display: none; position: absolute; left: 0; top: -6px;
            width: 20px; height: 20px;
            background:url(../image/ug_check_small.png) no-repeat;
            -webkit-background-size: contain;
            background-size: contain;
        }
        .interest li .rec{
            position: absolute; right: 0; top: -6px;
            width: 20px; height: 20px;
            background:url(../image/ug_category_recommend.png) no-repeat;
            -webkit-background-size: contain;
            background-size: contain;
        }
        .interest li.selected .sel{
            display: inline-block;
        }
        .interest li.selected div{
            border-color: #e23c38;
        }
    </style>
</head>
<body>
<div id="page1">
    <h1>请选择您的性别</h1>
    <h2>为您推荐更合适的内容</h2>
    <div class="gender">
        <p tapmode onclick="singleSel(this, 'gender')">
            <i></i>
            <img src="../image/ug_gender_boy.png" />
            <span>男</span>
        </p>
        <p tapmode onclick="singleSel(this, 'gender')">
            <i></i>
            <img src="../image/ug_gender_girl.png" />
            <span>女</span>
        </p>
    </div>
    <div class="btn">
        <label>1/3</label>
        <button disabled="disabled" class="next disabled" onclick="goNext(1);">下一步</button>
    </div>
</div>
<div id="page2">
    <h1>请您选择</h1>
    <h2>为您推荐更合适的内容</h2>
    <div class="job">
        <p tapmode onclick="singleSel(this, 'job')">
            <i></i>
            <img src="../image/ug_people_worker.png" />
            <span>上班族</span>
        </p>
        <p tapmode onclick="singleSel(this, 'job')">
            <i></i>
            <img src="../image/ug_people_student.png" />
            <span>学生</span>
        </p>
        <p tapmode onclick="singleSel(this, 'job')">
            <i></i>
            <img src="../image/ug_people_older.png" />
            <span>中老年</span>
        </p>
        <p tapmode onclick="singleSel(this, 'job')">
            <i></i>
            <img src="../image/ug_people_else.png" />
            <span>其他</span>
        </p>
    </div>
    <div class="btn">
        <span class="prev" tapmode onclick="goPrev(1);">&lt; 上一步</span>
        <label>2/3</label>
        <button disabled="disabled" class="next disabled" onclick="goNext(2);">下一步</button>
    </div>
</div>
<div id="page3">
    <h1>请选择您感兴趣的内容</h1>
    <ul class="interest">
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>电台</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>北京</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>小说<i class="rec"></i></div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>音乐</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>读报</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>新闻<i class="rec"></i></div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>相声小品</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>脱口秀</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>情感</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>健康</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>电台</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>北京</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>小说<i class="rec"></i></div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>音乐</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>读报</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>新闻<i class="rec"></i></div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>相声小品</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>脱口秀</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>情感</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>健康</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>电台</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>北京</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>小说<i class="rec"></i></div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>音乐</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>读报</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>新闻<i class="rec"></i></div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>相声小品</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>脱口秀</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>情感</div>
        </li>
        <li tapmode onclick="multiSel(this)">
            <div><i class="sel"></i>健康</div>
        </li>
    </ul>
    <div class="btn">
        <span class="prev" tapmode onclick="goPrev(2);">&lt; 上一步</span>
        <label>3/3</label>
        <button class="next" onclick="goNext(3);">开启您的收听之旅</button>
    </div>
</div>
</body>
<script type="text/javascript" src="../script/api-lite.js"></script>
<script type="text/javascript" src="../script/zepto.js"></script>
<script type="text/javascript">
    function singleSel(it, container){
        $('.'+container).find('.selected').removeClass('selected');
        $(it).addClass('selected');
        $('.'+container).next('.btn').find('.next').removeClass('disabled');
        $('.'+container).next('.btn').find('.next').removeAttr('disabled');
    }
    function multiSel(it){
        var $this = $(it);
        if($this.hasClass('selected')){
            $this.removeClass('selected');
        }else{
            $this.addClass('selected');
        }
    }
    function goPrev(num){
        num = parseInt(num);
        $('#page'+ num).removeClass('out');
    }
    function goNext(num){
        num = parseInt(num);
        if(num === 3){  //最后一步
            $api.setStorage('showGuide','1');
            api.closeFrame();
        }else{
            $('#page'+ num).addClass('out');
        }
    }
    apiready = function(){
        
    };
</script>
</html>