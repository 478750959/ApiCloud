function addSignature(params_json_arr){var out=params_json_arr;var key="c4ca4238a0b923820dcc509a6f75849b";var timestamps=getTimestamps();var expires="60";var signature=getSignature(timestamps,expires,key);var param_timestamps={};param_timestamps.type="0";param_timestamps.key="timestamps";param_timestamps.value=timestamps;out.push(param_timestamps);var param_expires={};param_expires.type="0";param_expires.key="expires";param_expires.value=expires;out.push(param_expires);var param_signature={};param_signature.type=
"0";param_signature.key="signature";param_signature.value=signature;out.push(param_signature);return out}
function getTimestamps(){var d=new Date;var yyyy=d.getFullYear();var mm=1+parseInt(d.getMonth(),10);var dd=parseInt(d.getDate(),10);var hh=parseInt(d.getHours(),10);var mi=parseInt(d.getMinutes(),10);var ss=parseInt(d.getSeconds(),10);var d_str=yyyy+"";if(mm<10)d_str=d_str+"0"+mm+"";else d_str=d_str+mm+"";if(dd<10)d_str=d_str+"0"+dd+"";else d_str=d_str+dd+"";if(hh<10)d_str=d_str+"0"+hh+"";else d_str=d_str+hh+"";if(mi<10)d_str=d_str+"0"+mi+"";else d_str=d_str+mi+"";if(ss<10)d_str=d_str+"0"+ss+"";else d_str=
d_str+ss+"";return d_str}function getSignature(timestamps,expires,key){return hex_md5(timestamps+"\x26"+expires+"\x26"+key)};